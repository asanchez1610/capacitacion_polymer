<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/granite-bootstrap/granite-bootstrap.html">
<link rel="import" href="../usuarios-styles/main-styles.html">
<link rel="import" href="../usuarios-provider/api-provider.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html" >
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">
<dom-module id="listado-component">
  <template>
    	  <style include = "granite-bootstrap" ></style>
    	  <style include = "main-styles" ></style>
    	  <api-provider id = "apiProvider" id-persona = "{{idPersona}}" ></api-provider> 
          <div class="table-responsive">
          <table class="table table-hover table-bordered">
				  <thead>
				    <tr class="bg-info text-white">
              <td scope="col">&nbsp;</td>
				      <td scope="col">Nombre</td>
				      <td scope="col">Email</td>
				      <td scope="col">Tel√©fono</td>
              <td scope="col">&nbsp;</td>
				    </tr>
				  </thead>
				  <tbody>

				  	<template is="dom-repeat" items="{{personas}}">
						<tr on-click = "rowSelection" class = "itemRow" data-persona$={{item}} >
                <td><input class="chkselected"  type="checkbox"  /></td>
					      <td>[[item.nombres]]</td>
					      <td>[[item.email]]</td>
					      <td>[[item.telefono]]</td>
                <td><paper-icon-button on-click = "confirmarEliminacion" data-persona={{item}}  class = "trash-icon" icon="delete"></paper-icon-button></td>
					    </tr>
					</template>

				  </tbody>
				</table>
            
          </div>

       <paper-dialog id = "confirmacion" class="roundbox boxshadow confirmar" style="text-align:center;" entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop>
     
            <div class="panel-confirmacion"><b>Seguro de eliminar a:</b> <br> {{personaEliminar.nombres}}</div>
            <div class="paper-dialog-buttons text-center">
                <paper-button class = "btn btn-danger btn-sm boton-confirmacion boton-cancelar" dialog-dismiss>No</paper-button>
                <paper-button class = "btn btn-success btn-sm boton-confirmacion" on-click = "eliminar" >Si</paper-button>
            </div>
        </paper-dialog>
  
  </template>

  <script src = "usuarios-component-js/listado-usuarios.js"></script>

</dom-module>